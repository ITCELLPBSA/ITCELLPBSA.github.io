(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"9N29":function(e,t,o){"use strict";o.r(t),o.d(t,"UserModule",(function(){return ee}));var i=o("ofXK"),s=o("tyNb"),b=o("mrSG"),c=o("3Pt+"),r=o("tNTQ"),n=o("fXoL"),a=o("E6oB"),l=o("zwbD");function d(e,t){1&e&&n.Lb(0,"hr")}function u(e,t){if(1&e&&(n.Pb(0,"div",8),n.Pb(1,"div",9),n.Pb(2,"h6",10),n.Bc(3,"Department"),n.Ob(),n.Ob(),n.Pb(4,"div",11),n.Bc(5),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(5),n.Dc(" ",null==e.userData?null:e.userData.userDepartment," ")}}function m(e,t){1&e&&n.Lb(0,"hr")}function p(e,t){if(1&e&&(n.Pb(0,"div",8),n.Pb(1,"div",9),n.Pb(2,"h6",10),n.Bc(3,"Section"),n.Ob(),n.Ob(),n.Pb(4,"div",11),n.Bc(5),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(5),n.Dc(" ",null==e.userData?null:e.userData.userSection," ")}}function O(e,t){1&e&&n.Lb(0,"hr")}function P(e,t){if(1&e&&(n.Pb(0,"div",8),n.Pb(1,"div",9),n.Pb(2,"h6",10),n.Bc(3,"Grievance Submitted"),n.Ob(),n.Ob(),n.Pb(4,"div",11),n.Bc(5),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(5),n.Dc(" ",e.gcount," ")}}let h=(()=>{class e{constructor(e,t){this.service=e,this.globalStore=t,this.passwordUpdateForm=new c.f({oldPassword:new c.c("",[c.s.required,c.s.minLength(3)]),newPassword:new c.c("",[c.s.required,c.s.minLength(3)]),confirmNewPassword:new c.c("",[c.s.required,c.s.minLength(4)])})}ngOnInit(){this.globals=this.globalStore.getGlobalStore(),this.service.getUserDataById(this.globals.PFNumber).subscribe(e=>{this.userData=e.details,this.gcount=e.count,this.desig=r.a.USER_ROLE[this.userData.userRole]})}updateUserPassword(){const e=this.passwordUpdateForm.value;if(e.newPassword!==e.confirmNewPassword)this.clearMessage(),this.errorMessage="New password and Confirm password are different";else{let t=Object(b.a)(e,["confirmNewPassword"]);this.service.updatePassword(t,this.globals.PFNumber).subscribe(e=>{this.clearMessage(),this.successMessage=e.message,this.passwordUpdateForm.reset()},e=>{this.clearMessage(),this.errorMessage=e})}}clearMessage(){this.errorMessage="",this.successMessage=""}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a),n.Kb(l.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-employee-profile"]],decls:78,vars:17,consts:[[1,"col-md-6","mx-auto","my-auto","pt-5"],[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"card-body"],[1,"mx-auto"],[1,"col-md-12"],[1,"card","mb-3"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-6","mx-auto","my-auto","pt-5","pb-5"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show",3,"hidden"],["type","button",1,"close"],[3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show",3,"hidden"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"required"],["type","password","formControlName","oldPassword",1,"form-control"],["type","password","formControlName","newPassword",1,"form-control"],["type","password","formControlName","confirmNewPassword",1,"form-control"],["type","submit","value","Submit",1,"btn","btn-primary","btn-lg","btn-block","mt-5","mb-2",3,"disabled"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Pb(2,"div",2),n.Pb(3,"h5",3),n.Bc(4),n.Ob(),n.Ob(),n.Pb(5,"div",4),n.Pb(6,"div",5),n.Pb(7,"div",6),n.Pb(8,"div",7),n.Pb(9,"div",4),n.Pb(10,"div",8),n.Pb(11,"div",9),n.Pb(12,"h6",10),n.Bc(13,"Full Name"),n.Ob(),n.Ob(),n.Pb(14,"div",11),n.Bc(15),n.Ob(),n.Ob(),n.Lb(16,"hr"),n.Pb(17,"div",8),n.Pb(18,"div",9),n.Pb(19,"h6",10),n.Bc(20,"PFNumber"),n.Ob(),n.Ob(),n.Pb(21,"div",11),n.Bc(22),n.Ob(),n.Ob(),n.Lb(23,"hr"),n.Pb(24,"div",8),n.Pb(25,"div",9),n.Pb(26,"h6",10),n.Bc(27,"Role"),n.Ob(),n.Ob(),n.Pb(28,"div",11),n.Bc(29),n.Ob(),n.Ob(),n.zc(30,d,1,0,"hr",12),n.zc(31,u,6,1,"div",13),n.zc(32,m,1,0,"hr",12),n.zc(33,p,6,1,"div",13),n.zc(34,O,1,0,"hr",12),n.zc(35,P,6,1,"div",13),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(36,"div",14),n.Pb(37,"div",1),n.Pb(38,"div",2),n.Pb(39,"h5",3),n.Bc(40,"Change Password"),n.Ob(),n.Ob(),n.Pb(41,"div",4),n.Pb(42,"div",5),n.Pb(43,"div",6),n.Pb(44,"div",15),n.Bc(45),n.Pb(46,"button",16),n.Pb(47,"span",17),n.ac("click",(function(){return t.clearMessage()})),n.Bc(48,"\xd7"),n.Ob(),n.Ob(),n.Ob(),n.Pb(49,"div",18),n.Bc(50),n.Pb(51,"button",16),n.Pb(52,"span",17),n.ac("click",(function(){return t.clearMessage()})),n.Bc(53,"\xd7"),n.Ob(),n.Ob(),n.Ob(),n.Pb(54,"form",19),n.ac("ngSubmit",(function(){return t.updateUserPassword()})),n.Pb(55,"div",6),n.Pb(56,"div",20),n.Pb(57,"label"),n.Bc(58,"Old Password"),n.Pb(59,"span",21),n.Bc(60,"*"),n.Ob(),n.Ob(),n.Lb(61,"input",22),n.Ob(),n.Ob(),n.Pb(62,"div",6),n.Pb(63,"div",20),n.Pb(64,"label"),n.Bc(65,"New Password"),n.Pb(66,"span",21),n.Bc(67,"*"),n.Ob(),n.Ob(),n.Lb(68,"input",23),n.Ob(),n.Ob(),n.Pb(69,"div",6),n.Pb(70,"div",20),n.Pb(71,"label"),n.Bc(72,"Confirm Password"),n.Pb(73,"span",21),n.Bc(74,"*"),n.Ob(),n.Ob(),n.Lb(75,"input",24),n.Ob(),n.Ob(),n.Pb(76,"button",25),n.Bc(77," Update Password "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.xb(4),n.Ec("",t.globals.userName," - ",t.globals.PFNumber,""),n.xb(11),n.Dc(" ",t.globals.userName," "),n.xb(7),n.Dc(" ",t.globals.PFNumber," "),n.xb(7),n.Dc(" ",t.desig," "),n.xb(1),n.ic("ngIf",null==t.userData?null:t.userData.userDepartment),n.xb(1),n.ic("ngIf",null==t.userData?null:t.userData.userDepartment),n.xb(1),n.ic("ngIf",null==t.userData?null:t.userData.userSection),n.xb(1),n.ic("ngIf",null==t.userData?null:t.userData.userSection),n.xb(1),n.ic("ngIf",t.gcount),n.xb(1),n.ic("ngIf",t.gcount),n.xb(9),n.ic("hidden",!t.successMessage),n.xb(1),n.Dc(" ",t.successMessage," "),n.xb(4),n.ic("hidden",!t.errorMessage),n.xb(1),n.Dc(" ",t.errorMessage," "),n.xb(4),n.ic("formGroup",t.passwordUpdateForm),n.xb(22),n.ic("disabled",t.passwordUpdateForm.invalid))},directives:[i.m,c.u,c.m,c.g,c.a,c.l,c.e],styles:["body[_ngcontent-%COMP%]{margin-top:20px;color:#1a202c;text-align:left;background-color:#e2e8f0}.main-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06);position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:initial;border:0 solid rgba(0,0,0,.125);border-radius:.25rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1rem}.gutters-sm[_ngcontent-%COMP%]{margin-right:-8px;margin-left:-8px}.gutters-sm[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%], .gutters-sm[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.mb-3[_ngcontent-%COMP%], .my-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.bg-gray-300[_ngcontent-%COMP%]{background-color:#e2e8f0}.h-100[_ngcontent-%COMP%]{height:100%!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}"]}),e})();var f=o("jAKW"),g=o("bdIW");function v(e,t){if(1&e&&(n.Pb(0,"option",14),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function x(e,t){if(1&e&&(n.Pb(0,"div",11),n.Pb(1,"label"),n.Bc(2,"Department "),n.Pb(3,"span",8),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",27),n.Pb(7,"option",13),n.Bc(8,"Choose Department"),n.Ob(),n.zc(9,v,2,2,"option",21),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(9),n.ic("ngForOf",e.APOList)}}function B(e,t){if(1&e&&(n.Pb(0,"option",14),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function y(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",11),n.Pb(1,"label"),n.Bc(2,"CHOS "),n.Pb(3,"span",8),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",28),n.ac("change",(function(t){return n.tc(e),n.cc().getDealers(t)})),n.Pb(7,"option",13),n.Bc(8,"Choose CHOS"),n.Ob(),n.zc(9,B,2,2,"option",21),n.Ob(),n.Ob()}if(2&e){const e=n.cc();n.xb(9),n.ic("ngForOf",e.Choslist)}}function D(e,t){if(1&e&&(n.Pb(0,"option",14),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function w(e,t){if(1&e&&(n.Pb(0,"div",11),n.Pb(1,"label"),n.Bc(2,"Section "),n.Pb(3,"span",8),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",29),n.Pb(7,"option",13),n.Bc(8,"Choose Dealer (Please Select CHOS)"),n.Ob(),n.zc(9,D,2,2,"option",21),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(9),n.ic("ngForOf",e.DealersList)}}function C(e,t){if(1&e&&(n.Pb(0,"option",14),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.ic("value",e),n.xb(1),n.Cc(e)}}let N=(()=>{class e{constructor(e,t,o,i){this.service=e,this.globalStore=t,this.router=o,this.fb=i,this.isloading=!0,this.Employee=new c.f({userName:new c.c("",[c.s.required,c.s.minLength(3)]),PFNumber:new c.c("",[c.s.required,c.s.minLength(10)]),userDepartment:new c.c(""),userSection:new c.c(""),email:new c.c(""),phoneNo:new c.c("",[c.s.required,c.s.minLength(6)]),DOB:new c.c("",[c.s.required,c.s.minLength(6)]),DOA:new c.c("",[c.s.required,c.s.minLength(6)]),userRole:new c.c(""),serviceStatus:new c.c("",[c.s.required,c.s.minLength(2)])}),this.responseMessage=""}ngOnInit(){this.isloading=!1,this.servicestatus=r.a.SERVICE_STATUS,this.service.getChosList().subscribe(e=>{this.allList=e,this.Choslist=e.map(e=>e.Section)}),this.service.getAPOList().subscribe(e=>{this.APOList=e.map(e=>e.APO)})}createEmployee(){this.employeeDetails=this.Employee.value,this.employeeDetails.userPassword=this.employeeDetails.DOB,this.service.createUser(this.employeeDetails).subscribe(e=>{this.responseMessage=e.message})}changeRole(e){this.role=e.target.value}getDealers(e){let t=e.target.value;this.DealersList=this.allList.filter(e=>e.Section==t),this.DealersList=this.DealersList[0].Dealers}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a),n.Kb(l.a),n.Kb(s.a),n.Kb(c.b))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-create-employee"]],decls:89,vars:14,consts:[[1,"container","pt-3"],[3,"load"],[3,"successMessage"],["id","bg",1,"col-md-12","mx-auto","card"],[1,"font-weight-bold","pt-4","text-center"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],[1,"required",2,"color","red"],["formControlName","userName","type","text",1,"form-control"],["formControlName","PFNumber","type","text",1,"form-control"],[1,"form-group","col-md-4"],["type","text","formControlName","userRole",1,"form-control",3,"change"],["value","","disabled","","selected",""],[3,"value"],["class","form-group col-md-4",4,"ngIf"],["formControlName","email","type","email","placeholder","Email Address",1,"form-control"],["for","phone"],["formControlName","phoneNo","type","phone","id","phone","placeholder","Phone Number","required","",1,"form-control"],["type","text","formControlName","serviceStatus",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","DOB","placeholder","dd/mm/yyyy",1,"form-control"],["formControlName","DOA","type","DOA","placeholder","dd/mm/yyyy","required","",1,"form-control"],[1,"form-group"],["id","pf",1,"lead","mb-2",2,"color","red","font-size","15px"],["type","submit","data-toggle","modal","data-target","#success_tic","value","Submit",1,"btn","btn-outline-primary","float-right","mb-3",3,"disabled"],["type","text","formControlName","userDepartment",1,"form-control"],["type","text","formControlName","userDepartment",1,"form-control",3,"change"],["type","text","formControlName","userSection",1,"form-control"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Lb(1,"app-loader",1),n.Lb(2,"app-message-modal",2),n.Pb(3,"div",3),n.Pb(4,"h5",4),n.Bc(5,"Add Employee"),n.Ob(),n.Lb(6,"hr"),n.Pb(7,"form",5),n.ac("ngSubmit",(function(){return t.createEmployee()})),n.Pb(8,"div",6),n.Pb(9,"div",7),n.Pb(10,"label"),n.Bc(11,"User Name "),n.Pb(12,"span",8),n.Bc(13,"*"),n.Ob(),n.Bc(14," :"),n.Ob(),n.Lb(15,"input",9),n.Ob(),n.Pb(16,"div",7),n.Pb(17,"label"),n.Bc(18,"PFNumber "),n.Pb(19,"span",8),n.Bc(20,"*"),n.Ob(),n.Bc(21," : "),n.Ob(),n.Lb(22,"input",10),n.Ob(),n.Ob(),n.Pb(23,"div",6),n.Pb(24,"div",11),n.Pb(25,"label"),n.Bc(26,"Role "),n.Pb(27,"span",8),n.Bc(28,"*"),n.Ob(),n.Bc(29," :"),n.Ob(),n.Pb(30,"select",12),n.ac("change",(function(e){return t.changeRole(e)})),n.Pb(31,"option",13),n.Bc(32,"Choose Role"),n.Ob(),n.Pb(33,"option",14),n.Bc(34,"DPO"),n.Ob(),n.Pb(35,"option",14),n.Bc(36,"APO"),n.Ob(),n.Pb(37,"option",14),n.Bc(38,"CO-ORDINATOR"),n.Ob(),n.Pb(39,"option",14),n.Bc(40,"CH.OS"),n.Ob(),n.Pb(41,"option",14),n.Bc(42,"DEALER"),n.Ob(),n.Pb(43,"option",14),n.Bc(44,"EMPLOYEE/PENSIONER"),n.Ob(),n.Ob(),n.Ob(),n.zc(45,x,10,1,"div",15),n.zc(46,y,10,1,"div",15),n.zc(47,w,10,1,"div",15),n.Ob(),n.Pb(48,"div",6),n.Pb(49,"div",7),n.Pb(50,"label"),n.Bc(51,"Email Address :"),n.Ob(),n.Lb(52,"input",16),n.Ob(),n.Pb(53,"div",7),n.Pb(54,"label",17),n.Bc(55,"Phone Number "),n.Pb(56,"span",8),n.Bc(57,"*"),n.Ob(),n.Bc(58," :"),n.Ob(),n.Lb(59,"input",18),n.Ob(),n.Ob(),n.Pb(60,"div",6),n.Pb(61,"div",7),n.Pb(62,"label"),n.Bc(63,"Service Status "),n.Pb(64,"span",8),n.Bc(65,"*"),n.Ob(),n.Bc(66," :"),n.Ob(),n.Pb(67,"select",19),n.Pb(68,"option",20),n.Bc(69,"..."),n.Ob(),n.zc(70,C,2,2,"option",21),n.Ob(),n.Ob(),n.Ob(),n.Pb(71,"div",6),n.Pb(72,"div",7),n.Pb(73,"label"),n.Bc(74,"DOB "),n.Pb(75,"span",8),n.Bc(76,"*"),n.Ob(),n.Bc(77," :"),n.Ob(),n.Lb(78,"input",22),n.Ob(),n.Pb(79,"div",7),n.Pb(80,"label",17),n.Bc(81,"DOA "),n.Pb(82,"span",8),n.Bc(83,"*"),n.Ob(),n.Bc(84," :"),n.Ob(),n.Lb(85,"input",23),n.Ob(),n.Ob(),n.Pb(86,"div",24),n.Lb(87,"small",25),n.Ob(),n.Lb(88,"input",26),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.xb(1),n.ic("load",t.isloading),n.xb(1),n.ic("successMessage",t.responseMessage),n.xb(5),n.ic("formGroup",t.Employee),n.xb(26),n.ic("value",1),n.xb(2),n.ic("value",2),n.xb(2),n.ic("value",3),n.xb(2),n.ic("value",4),n.xb(2),n.ic("value",5),n.xb(2),n.ic("value",6),n.xb(2),n.ic("ngIf",2==t.role),n.xb(1),n.ic("ngIf",5==t.role||4==t.role),n.xb(1),n.ic("ngIf",5==t.role),n.xb(23),n.ic("ngForOf",t.servicestatus),n.xb(18),n.ic("disabled",t.Employee.invalid))},directives:[f.a,g.a,c.u,c.m,c.g,c.a,c.l,c.e,c.r,c.n,c.t,i.m,c.q,i.l],styles:[""]}),e})();var L=o("EUZL");function E(e,t){if(1&e&&(n.Pb(0,"option",23),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function F(e,t){if(1&e&&(n.Pb(0,"div",8),n.Pb(1,"label"),n.Bc(2,"Department "),n.Pb(3,"span",21),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",29),n.Pb(7,"option",30),n.Bc(8,"Choose Department"),n.Ob(),n.zc(9,E,2,2,"option",31),n.Ob(),n.Ob()),2&e){const e=n.cc(2);n.xb(9),n.ic("ngForOf",e.APOList)}}function S(e,t){if(1&e&&(n.Pb(0,"option",23),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function I(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",8),n.Pb(1,"label"),n.Bc(2,"CHOS "),n.Pb(3,"span",21),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",32),n.ac("change",(function(t){return n.tc(e),n.cc(2).getDealers(t)})),n.Pb(7,"option",30),n.Bc(8,"Choose CHOS"),n.Ob(),n.zc(9,S,2,2,"option",31),n.Ob(),n.Ob()}if(2&e){const e=n.cc(2);n.xb(9),n.ic("ngForOf",e.Choslist)}}function M(e,t){if(1&e&&(n.Pb(0,"option",23),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function U(e,t){if(1&e&&(n.Pb(0,"div",8),n.Pb(1,"label"),n.Bc(2,"Section "),n.Pb(3,"span",21),n.Bc(4,"*"),n.Ob(),n.Bc(5," :"),n.Ob(),n.Pb(6,"select",33),n.Pb(7,"option",30),n.Bc(8,"Choose Dealer (Please Select CHOS)"),n.Ob(),n.zc(9,M,2,2,"option",31),n.Ob(),n.Ob()),2&e){const e=n.cc(2);n.xb(9),n.ic("ngForOf",e.DealersList)}}function k(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",19),n.Pb(1,"div",2),n.Pb(2,"h5",3),n.Bc(3),n.Ob(),n.Ob(),n.Pb(4,"div",4),n.Pb(5,"div",5),n.Pb(6,"div",6),n.Pb(7,"form",20),n.ac("ngSubmit",(function(){return n.tc(e),n.cc().editEmployee()})),n.Pb(8,"div",7),n.Pb(9,"div",8),n.Pb(10,"label"),n.Bc(11,"Role "),n.Pb(12,"span",21),n.Bc(13,"*"),n.Ob(),n.Bc(14," :"),n.Ob(),n.Pb(15,"select",22),n.ac("change",(function(t){return n.tc(e),n.cc().changeRole(t)})),n.Pb(16,"option",23),n.Bc(17,"DPO"),n.Ob(),n.Pb(18,"option",23),n.Bc(19,"APO"),n.Ob(),n.Pb(20,"option",23),n.Bc(21,"CO-ORDINATOR"),n.Ob(),n.Pb(22,"option",23),n.Bc(23,"CH.OS"),n.Ob(),n.Pb(24,"option",23),n.Bc(25,"DEALER"),n.Ob(),n.Pb(26,"option",23),n.Bc(27,"EMPLOYEE/PENSIONER"),n.Ob(),n.Ob(),n.Ob(),n.zc(28,F,10,1,"div",24),n.zc(29,I,10,1,"div",24),n.zc(30,U,10,1,"div",24),n.Ob(),n.Pb(31,"div",7),n.Pb(32,"div",10),n.Pb(33,"label"),n.Bc(34,"Email Address :"),n.Ob(),n.Lb(35,"input",25),n.Ob(),n.Pb(36,"div",10),n.Pb(37,"label",26),n.Bc(38,"Phone Number "),n.Pb(39,"span",21),n.Bc(40,"*"),n.Ob(),n.Bc(41," :"),n.Ob(),n.Lb(42,"input",27),n.Ob(),n.Ob(),n.Lb(43,"input",28),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&e){const e=n.cc();n.xb(3),n.Cc(e.userDetails.userName),n.xb(4),n.ic("formGroup",e.EmployeeData),n.xb(9),n.ic("value",1),n.xb(2),n.ic("value",2),n.xb(2),n.ic("value",3),n.xb(2),n.ic("value",4),n.xb(2),n.ic("value",5),n.xb(2),n.ic("value",6),n.xb(2),n.ic("ngIf",2==e.role),n.xb(1),n.ic("ngIf",5==e.role||4==e.role),n.xb(1),n.ic("ngIf",5==e.role)}}function z(e,t){1&e&&(n.Pb(0,"div",19),n.Pb(1,"h4",34),n.Bc(2,"User Not Found"),n.Ob(),n.Ob())}function R(e,t){1&e&&(n.Pb(0,"div",19),n.Pb(1,"h4",34),n.Bc(2,"You cannot edit this user"),n.Ob(),n.Ob())}function A(e,t){if(1&e&&(n.Pb(0,"tr",40),n.Pb(1,"td"),n.Bc(2),n.Ob(),n.Pb(3,"td"),n.Bc(4),n.Ob(),n.Pb(5,"td"),n.Bc(6),n.Ob(),n.Pb(7,"td"),n.Bc(8),n.Ob(),n.Pb(9,"td"),n.Bc(10),n.Ob(),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.jc("id",o),n.xb(2),n.Cc(o+1),n.xb(2),n.Cc(e.userName),n.xb(2),n.Cc(e.PFNumber),n.xb(2),n.Cc(e.phoneNo),n.xb(2),n.Cc(e.userRole)}}function q(e,t){if(1&e&&(n.Pb(0,"div",35),n.Pb(1,"div",36),n.Pb(2,"table",37),n.Pb(3,"thead"),n.Pb(4,"tr"),n.Pb(5,"th",38),n.Bc(6,"S.no"),n.Ob(),n.Pb(7,"th",38),n.Bc(8,"Employee"),n.Ob(),n.Pb(9,"th",38),n.Bc(10,"PF Number"),n.Ob(),n.Pb(11,"th",38),n.Bc(12,"Phone Number"),n.Ob(),n.Pb(13,"th",38),n.Bc(14,"Role"),n.Ob(),n.Ob(),n.Ob(),n.Pb(15,"tbody"),n.zc(16,A,11,6,"tr",39),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(16),n.ic("ngForOf",e.editedUsers)}}function _(e,t){1&e&&(n.Pb(0,"div",41),n.Pb(1,"h2"),n.Bc(2,"No Users Edited "),n.Ob(),n.Lb(3,"img",42),n.Ob())}let j=(()=>{class e{constructor(e,t){this.service=e,this.globalStore=t,this.PFNumber="",this.isUserData=0,this.fileName="EditedEmpoyeeList.xlsx",this.EmployeeData=new c.f({userName:new c.c("",[c.s.required,c.s.minLength(3)]),PFNumber:new c.c("",[c.s.required,c.s.minLength(5)]),userDepartment:new c.c("",[c.s.required,c.s.minLength(3)]),userSection:new c.c("",[c.s.required,c.s.minLength(2)]),email:new c.c(""),phoneNo:new c.c("",[c.s.required,c.s.minLength(6)]),DOB:new c.c("",[c.s.required,c.s.minLength(6)]),DOA:new c.c("",[c.s.required,c.s.minLength(6)]),userRole:new c.c(""),serviceStatus:new c.c("",[c.s.required,c.s.minLength(2)])})}ngOnInit(){this.globals=this.globalStore.getGlobalStore(),this.service.getAllEditedUser().subscribe(e=>{this.editedUsers=e,this.editedUsers=this.editedUsers.map(e=>{let{userRole:t}=e,o=Object(b.a)(e,["userRole"]);return t=r.a.USER_ROLE[t],Object.assign({userRole:t},o)}),console.log(this.editedUsers)}),this.service.getChosList().subscribe(e=>{this.allList=e,this.Choslist=e.map(e=>e.Section)}),this.service.getAPOList().subscribe(e=>{this.APOList=e.map(e=>e.APO)})}OnInput(e){this.PFNumber=e.target.value}search(){this.isUserData=0,this.service.getUserDataById(this.PFNumber).subscribe(e=>{this.userDetails=e.details,this.isUserData=2,this.EmployeeData.patchValue({userName:this.userDetails.userName}),this.EmployeeData.patchValue({PFNumber:this.userDetails.PFNumber}),this.EmployeeData.patchValue({phoneNo:this.userDetails.phoneNo}),this.EmployeeData.patchValue({email:this.userDetails.email})}),0!=this.isUserData||(this.isUserData=1)}getDealers(e){let t=e.target.value;this.DealersList=this.allList.filter(e=>e.Section==t),this.DealersList=this.DealersList[0].Dealers}changeRole(e){this.role=e.target.value}editEmployee(){this.service.editUserDataById(this.PFNumber,this.EmployeeData.value).subscribe(e=>{this.responseMessage=e.message})}exportexcel(){let e=document.getElementById("excel-table");const t=L.utils.table_to_sheet(e),o=L.utils.book_new();L.utils.book_append_sheet(o,t,"Sheet1"),L.writeFile(o,this.fileName)}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a),n.Kb(l.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-edit-employee"]],decls:26,vars:6,consts:[[1,"col-md-6","mx-auto","my-auto","pt-5"],[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"card-body"],[1,"mx-auto"],[1,"col-md-12"],[1,"form-row"],[1,"form-group","col-md-4"],[1,"form-label"],[1,"form-group","col-md-6"],["type","text","placeholder","Search PF Number",1,"form-control",3,"keyup"],[1,"form-group","col-md-2"],[1,"btn","btn-primary",3,"click"],["class","card mt-2",4,"ngIf"],[3,"successMessage"],["class","col-md-12 mx-auto pt-2",4,"ngIf","ngIfElse"],[1,"btn","btn-success","download",3,"click"],["Emptybox",""],[1,"card","mt-2"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"required",2,"color","red"],["type","text","formControlName","userRole",1,"form-control",3,"change"],[3,"value"],["class","form-group col-md-4",4,"ngIf"],["formControlName","email","type","email","placeholder","Email Address",1,"form-control"],["for","phone"],["formControlName","phoneNo","type","phone","id","phone","placeholder","Phone Number","required","",1,"form-control"],["type","submit","data-toggle","modal","data-target","#success_tic","value","Edit",1,"btn","btn-outline-primary","mb-3"],["type","text","formControlName","userDepartment",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","userDepartment",1,"form-control",3,"change"],["type","text","formControlName","userSection",1,"form-control"],[1,"card-title","mx-auto","my-auto"],[1,"col-md-12","mx-auto","pt-2"],[1,"table-responsive"],["id","excel-table",1,"table","table-bordered","table-hover"],["scope","col"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"empty-content"],["src","../../../../assets/empty-box.png","alt","Empty content :(",1,"emp-pic"]],template:function(e,t){if(1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Pb(2,"div",2),n.Pb(3,"h5",3),n.Bc(4,"Search and Edit Employee"),n.Ob(),n.Ob(),n.Pb(5,"div",4),n.Pb(6,"div",5),n.Pb(7,"div",6),n.Pb(8,"div",7),n.Pb(9,"div",8),n.Pb(10,"label",9),n.Bc(11,"Search PF Number :"),n.Ob(),n.Ob(),n.Pb(12,"div",10),n.Pb(13,"input",11),n.ac("keyup",(function(e){return t.OnInput(e)})),n.Ob(),n.Ob(),n.Pb(14,"div",12),n.Pb(15,"button",13),n.ac("click",(function(){return t.search()})),n.Bc(16,"Search"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.zc(17,k,44,11,"div",14),n.Lb(18,"app-message-modal",15),n.zc(19,z,3,0,"div",14),n.zc(20,R,3,0,"div",14),n.zc(21,q,17,1,"div",16),n.Pb(22,"button",17),n.ac("click",(function(){return t.exportexcel()})),n.Bc(23,"Download Excel"),n.Ob(),n.Ob(),n.zc(24,_,4,0,"ng-template",null,18,n.Ac)),2&e){const e=n.rc(25);n.xb(17),n.ic("ngIf",2==t.isUserData),n.xb(1),n.ic("successMessage",t.responseMessage),n.xb(1),n.ic("ngIf",1==t.isUserData),n.xb(1),n.ic("ngIf",3==t.isUserData),n.xb(1),n.ic("ngIf",null==t.editedUsers?null:t.editedUsers.length)("ngIfElse",e)}},directives:[i.m,g.a,c.u,c.m,c.g,c.r,c.l,c.e,c.n,c.t,c.a,c.q,i.l],styles:["@media (max-width:767px){.download[_ngcontent-%COMP%]{display:none}}"]}),e})();function K(e,t){if(1&e&&(n.Pb(0,"option",16),n.Bc(1),n.Ob()),2&e){const e=t.$implicit;n.jc("value",e),n.xb(1),n.Cc(e)}}function H(e,t){if(1&e&&(n.Pb(0,"tr",22),n.Pb(1,"td"),n.Bc(2),n.Ob(),n.Pb(3,"td"),n.Bc(4),n.Ob(),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.jc("id",o),n.xb(2),n.Cc(o+1),n.xb(2),n.Cc(e)}}function $(e,t){if(1&e&&(n.Pb(0,"div",17),n.Pb(1,"div",18),n.Pb(2,"table",19),n.Pb(3,"thead"),n.Pb(4,"tr"),n.Pb(5,"th",20),n.Bc(6,"S.no"),n.Ob(),n.Pb(7,"th",20),n.Bc(8,"Dealers"),n.Ob(),n.Ob(),n.Ob(),n.Pb(9,"tbody"),n.zc(10,H,5,3,"tr",21),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e){const e=n.cc();n.xb(10),n.ic("ngForOf",e.DealersList)}}let G=(()=>{class e{constructor(e,t){this.service=e,this.globalStore=t}ngOnInit(){this.service.getChosList().subscribe(e=>{this.allList=e,this.Choslist=e.map(e=>e.Section)})}showDealers(e){let t=e.target.value;this.DealersList=this.allList.filter(e=>e.Section==t),this.DealersList=this.DealersList[0].Dealers}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a),n.Kb(l.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-edit-dealers"]],decls:19,vars:2,consts:[[1,"col-md-6","mx-auto","my-auto","pt-5"],[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"card-body"],[1,"mx-auto"],[1,"col-md-12"],[1,"form-row"],[1,"form-group","col-md-4"],[1,"form-label"],[1,"form-group","col-md-6"],["type","text",1,"form-control",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-2"],["class","col-md-12 mx-auto pt-2",4,"ngIf"],[3,"value"],[1,"col-md-12","mx-auto","pt-2"],[1,"table-responsive"],["id","excel-table",1,"table","table-bordered","table-hover"],["scope","col"],[3,"id",4,"ngFor","ngForOf"],[3,"id"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Pb(2,"div",2),n.Pb(3,"h5",3),n.Bc(4,"Edit Dealers"),n.Ob(),n.Ob(),n.Pb(5,"div",4),n.Pb(6,"div",5),n.Pb(7,"div",6),n.Pb(8,"div",7),n.Pb(9,"div",8),n.Pb(10,"label",9),n.Bc(11,"Choose CHOS :"),n.Ob(),n.Ob(),n.Pb(12,"div",10),n.Pb(13,"select",11),n.ac("change",(function(e){return t.showDealers(e)})),n.Pb(14,"option",12),n.Bc(15,"Choose CHOS"),n.Ob(),n.zc(16,K,2,2,"option",13),n.Ob(),n.Ob(),n.Lb(17,"div",14),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.zc(18,$,11,1,"div",15),n.Ob()),2&e&&(n.xb(16),n.ic("ngForOf",t.Choslist),n.xb(2),n.ic("ngIf",null==t.DealersList?null:t.DealersList.length))},directives:[c.n,c.t,i.l,i.m],styles:[""]}),e})();var V=o("yvBa");function T(e,t){if(1&e&&(n.Pb(0,"div",2),n.Bc(1),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.xb(1),n.Fc(" ",o+1,". ",e.EMPNO," - ",e.EMPNAME," ")}}function W(e,t){if(1&e&&(n.Pb(0,"div",16),n.Bc(1),n.zc(2,T,2,3,"div",17),n.Ob()),2&e){const e=n.cc();n.xb(1),n.Dc(" ",e.csvFile.length," Users found "),n.xb(1),n.ic("ngForOf",e.csvFile)}}function J(e,t){if(1&e&&(n.Pb(0,"div",2),n.Bc(1),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.xb(1),n.Ec(" ",o+1,". ",e," ")}}function Q(e,t){if(1&e&&(n.Pb(0,"div",16),n.Bc(1),n.zc(2,J,2,2,"div",17),n.Ob()),2&e){const e=n.cc();n.xb(1),n.Dc(" ",e.csvFile.length," Users found "),n.xb(1),n.ic("ngForOf",e.csvFile)}}const Y=[{path:"profile",component:h},{path:"create",component:N},{path:"edit",component:j},{path:"edit-dealers",component:G},{path:"bulk-insert",component:(()=>{class e{constructor(e){this.service=e,this.responseMessage="",this.isloading=!1}ngOnInit(){}onConvert(e){this.csvFile=e.result,console.log(e)}onError(e){console.log("Wrong file")}bulkInsert(){this.isloading=!0,this.csvFile?(console.log("hello"),this.service.bulkInsert(this.csvFile).subscribe(e=>{this.result=!0,console.log(e),alert(e.message),this.isloading=!1})):alert("Please select a file")}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-bulk-insert"]],decls:19,vars:2,consts:[[3,"load"],[1,"col-md-6","mx-auto","my-auto","pt-5"],[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"card-body"],[1,"mx-auto"],[1,"col-md-12"],[1,"form-row"],[1,"form-group","col-md-4"],[1,"form-label"],[1,"form-group","col-md-6"],[3,"onConvert","onFail"],[1,"form-group","col-md-2"],[1,"btn","btn-primary",3,"click"],["class","form-group col-md-12",4,"ngIf"],[1,"form-group","col-md-12"],["class","card",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(n.Lb(0,"app-loader",0),n.Pb(1,"div",1),n.Pb(2,"div",2),n.Pb(3,"div",3),n.Pb(4,"h5",4),n.Bc(5,"Bulk insert Employee"),n.Ob(),n.Ob(),n.Pb(6,"div",5),n.Pb(7,"div",6),n.Pb(8,"div",7),n.Pb(9,"div",8),n.Pb(10,"div",9),n.Pb(11,"label",10),n.Bc(12,"Upload a CSV file :"),n.Ob(),n.Ob(),n.Pb(13,"div",11),n.Pb(14,"Ngx-CSVtoJSON",12),n.ac("onConvert",(function(e){return t.onConvert(e)}))("onFail",(function(e){return t.onError(e)})),n.Ob(),n.Ob(),n.Pb(15,"div",13),n.Pb(16,"button",14),n.ac("click",(function(){return t.bulkInsert()})),n.Bc(17,"Insert"),n.Ob(),n.Ob(),n.zc(18,W,3,2,"div",15),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.ic("load",t.isloading),n.xb(18),n.ic("ngIf",t.csvFile))},directives:[f.a,V.a,i.m,i.l],styles:[""]}),e})()},{path:"bulk-delete",component:(()=>{class e{constructor(e){this.service=e,this.isValidFileProps=!0,this.responseMessage="",this.isloading=!1}ngOnInit(){}onConvert(e){console.log(e),"EMPNO"==e.properties[0]&&1==e.properties.length?(this.csvFile=e.result.map(e=>e.EMPNO),console.log(this.csvFile)):alert("Wrong Data. Please check the file. The File should contain only EmpNo")}onError(e){console.log("Wrong file")}bulkDelete(){this.isloading=!0,this.csvFile?(console.log("hello"),this.service.bulkDelete({toDelete:this.csvFile}).subscribe(e=>{this.result=!0,console.log(e),this.isloading=!1,alert(e.message)})):alert("Please upload a file")}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-bulk-delete"]],decls:19,vars:2,consts:[[3,"load"],[1,"col-md-6","mx-auto","my-auto","pt-5"],[1,"card"],[1,"card-header"],[1,"font-weight-bold"],[1,"card-body"],[1,"mx-auto"],[1,"col-md-12"],[1,"form-row"],[1,"form-group","col-md-4"],[1,"form-label"],[1,"form-group","col-md-6"],[3,"onConvert","onFail"],[1,"form-group","col-md-2"],[1,"btn","btn-primary",3,"click"],["class","form-group col-md-12",4,"ngIf"],[1,"form-group","col-md-12"],["class","card",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(n.Lb(0,"app-loader",0),n.Pb(1,"div",1),n.Pb(2,"div",2),n.Pb(3,"div",3),n.Pb(4,"h5",4),n.Bc(5,"Bulk Delete Employee"),n.Ob(),n.Ob(),n.Pb(6,"div",5),n.Pb(7,"div",6),n.Pb(8,"div",7),n.Pb(9,"div",8),n.Pb(10,"div",9),n.Pb(11,"label",10),n.Bc(12,"Upload a CSV file :"),n.Ob(),n.Ob(),n.Pb(13,"div",11),n.Pb(14,"Ngx-CSVtoJSON",12),n.ac("onConvert",(function(e){return t.onConvert(e)}))("onFail",(function(e){return t.onError(e)})),n.Ob(),n.Ob(),n.Pb(15,"div",13),n.Pb(16,"button",14),n.ac("click",(function(){return t.bulkDelete()})),n.Bc(17,"Delete"),n.Ob(),n.Ob(),n.zc(18,Q,3,2,"div",15),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.ic("load",t.isloading),n.xb(18),n.ic("ngIf",t.csvFile))},directives:[f.a,V.a,i.m,i.l],styles:[""]}),e})()}];let X=(()=>{class e{}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},imports:[[s.d.forChild(Y)],s.d]}),e})();var Z=o("x88h");let ee=(()=>{class e{}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},imports:[[i.b,X,c.p,c.h,Z.a,V.b]]}),e})()}}]);